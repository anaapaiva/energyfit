<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Loja de moda fitness EnergyFit - leggings, tops, acess√≥rios e muito mais."
    />
    <title>EnergyFit - A sua Loja Fitness</title>
    <link rel="stylesheet" href="/css/energy.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" href="/images/logo.jpg" type="icon" />
  </head>
  <body>
    <header>
      <h1>EnergyFit</h1>
      <nav>
        <ul>
          <li><a href="/">In√≠cio</a></li>
          <li><a href="#produtos">Produtos</a></li>
          <li><a href="/sobre">Sobre</a></li>
          <li>
            <a href="/carrinho">üõí <span id="contador-carrinho"></span></a>
          </li>
          <% if (usuario) { %>
          <li class="login">
            <a href="<%= usuario.tipo === 'admin' ? '/adm' : '/vendedor' %>"
              >Painel (<%= usuario.nome.split(' ')[0] %>)</a
            >
          </li>
          <li class="login">
            <a href="/api/v1/auth/logout">Sair</a>
          </li>
          <% } else { %>
          <li class="login"><a href="/login">Login</a></li>
          <% } %>
        </ul>
      </nav>
    </header>

    <main>
      <section class="carrossel">
        <div class="carrossel-container">
          <% if (carouselProdutos && carouselProdutos.length > 0) { %> <%
          carouselProdutos.forEach((produto, index) => { %>
          <img
            src="/uploads/<%= produto.imagem || 'default.webp' %>"
            class="slide <%= index === 0 ? 'ativo' : '' %>"
            alt="<%= produto.nome %>"
          />
          <% }) %> <% } else { %>
          <img
            src="/images/banner1.webp"
            class="slide ativo"
            alt="Banner Padr√£o"
          />
          <% } %>
          <button class="btn anterior" onclick="mudarSlide(-1)">
            &#10094;
          </button>
          <button class="btn proximo" onclick="mudarSlide(1)">&#10095;</button>
        </div>
      </section>

      <section id="produtos">
        <h2>Produtos em Destaque</h2>
        <div id="filtros" style="margin-bottom: 1rem; text-align: center">
          <button onclick="filtrarProdutos('todos')">Todos</button>
          <button onclick="filtrarProdutos('leggings')">Leggings</button>
          <button onclick="filtrarProdutos('tops')">Tops</button>
          <button onclick="filtrarProdutos('jaquetas')">Jaquetas</button>
          <button onclick="filtrarProdutos('acessorios')">Acess√≥rios</button>
          <button onclick="filtrarProdutos('conjuntos')">Conjuntos</button>
          <button onclick="filtrarProdutos('shorts')">Shorts</button>
          <button onclick="filtrarProdutos('blusas')">Blusas</button>
        </div>

        <div class="produtos" id="produtos-container">
          <% if (todosProdutos && todosProdutos.length > 0) { %> <%
          todosProdutos.forEach(produto => { %> <%- include('partials/produto',
          {produto: produto}) %> <% }) %> <% } else { %>
          <p>Nenhum produto encontrado no momento.</p>
          <% } %>
        </div>
      </section>
    </main>

    <footer>
      <p>
        <a href="https://www.instagram.com/energyfit_site"
          ><img src="/images/logo.ig.jpeg" alt="Instagram"
        /></a>
        <a href="https://wa.me/5537988275969"
          ><img src="/images/logo.wt.png" alt="WhatsApp"
        /></a>
        <a href="mailto:energyfit2025@gmail.com"
          ><img src="/images/logo.gmail.png" alt="Gmail"
        /></a>
      </p>
      <p>
        <a href="/politica">Pol√≠tica de Privacidade</a> |
        <a href="/termos">Termos de Uso</a> |
        <a href="/suporte">Suporte</a>
      </p>
      <p>EnergyFit ¬© 2025 - Todos os direitos reservados</p>
    </footer>

    <div id="cookie-alert" class="cookie-alert">
      <p>üç™ Este site utiliza cookies para oferecer a melhor experi√™ncia.</p>
      <div class="cookie-buttons">
        <button id="accept-cookies">Aceitar</button>
        <button id="reject-cookies">Recusar</button>
      </div>
    </div>

    <script src="/js/localStorage.js"></script>

    <script>
      function filtrarProdutos(categoria) {
        const produtos = document.querySelectorAll(".produto");
        produtos.forEach((produto) => {
          const categoriaProduto = produto.getAttribute("data-categoria");
          produto.style.display =
            categoria === "todos" || categoriaProduto === categoria
              ? "block"
              : "none";
        });
      }
    </script>
  </body>
</html>
